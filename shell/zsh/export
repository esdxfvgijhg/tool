#!/bin/bash

# history settings
export HISTCONTROL=ignoreboth # don't put duplicate lines or lines starting with space in the history.
export HISTSIZE=100000
export HISTFILE="$HOME/Aghiles/tool/shell/zsh/.history"
export SAVEHIST=$HISTSIZE
export HISTFILESIZE=2000

export airpods="FC:B6:D8:F0:49:CF"

RPROMPT_BASE="\${vcs_info_msg_0_}%F{blue}%~%f"
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=59'

fpath=($HOME/dotfiles/zsh/zsh-completions/src $fpath)
fpath=($HOME/.zsh/completions $fpath)
CHRUBY=/usr/local/share/chruby


# $HISTCMD (the current history event number) is shared across all shells
# (due to SHARE_HISTORY). Maintain this local variable to count the number of
# commands run in this specific shell.
HISTCMD_LOCAL=0


export N_PREFIX="$HOME/n"; [[ :$PATH: == *":$N_PREFIX/bin:"* ]] || PATH+=":$N_PREFIX/bin"  # Added by n-install (see http://git.io/n-install-repo).

export RPROMPT=$RPROMPT_BASE
export SPROMPT="zsh: correct %F{red}'%R'%f to %F{red}'%r'%f [%B%Uy%u%bes, %B%Un%u%bo, %B%Ue%u%bdit, %B%Ua%u%bbort]? "


export FZF_DEFAULT_OPS="--extended"
export FZF_DEFAULT_COMMAND="fd --type f"
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"



## Local and host-specific overrides.
#LOCAL_RC=$HOME/.zshrc.local
#test -f $LOCAL_RC && source $LOCAL_RC
#HOST_RC=$HOME/.zsh/host/$(hostname -s)
#test -f $HOST_RC && source $HOST_RC




export LANG=en_US.UTF-8
export LC_TIME=en_AU.UTF-8

export AIRPODS=FC:B6:D8:F0:49:CF


# FOLDERS --------------------------------------------------
export AGHILESPATH=/home/aghiles/Aghiles

	export ADMINPATH=$AGHILESPATH/admin

	export JOBPATH=$AGHILESPATH/job
		export TEACHINGPATH=$JOBPATH/ece
		export PROGRAMPATH=$JOBPATH/cod
		export READINGPATH=$JOBPATH/doc
      export SEARCH1=$READINGPATH/network
      export SEARCH2=$READINGPATH/references
      export BIBPATH=$READINGPATH/references
      export SEARCH3=$READINGPATH/resources
		export WRITINGPATH=$JOBPATH/txt

	export TOOLPATH=$AGHILESPATH/tool
		export TOOLSPATH=$TOOLPATH/tools
			export DATAPATH=$TOOLSPATH/data


export TMPPATH=/home/aghiles/Downloads/tmp
export TMPFILE=$TOOLSPATH/.tmp


# SHELL --------------------------------------------------
export PATH=$(find $TOOLPATH/shell/ -type d -printf "%p:")$PATH
#export PATH=$PATH:$(du "$TOOLPATH/scripts/bin/" | cut -f2 | tr '\n' ':' | sed 's/:*$//')

# TOOLS --------------------------------------------------
export PATH=$TOOLSPATH/matlab/bin:$PATH
export PATH=$TOOLSPATH/data:$PATH
export PATH=$TOOLSPATH/zotero:$PATH
export PATH=$TOOLSPATH/packages:$PATH
export PATH=/home/aghiles/.local/share/nautilus/scripts:$PATH
export PATH=/home/aghiles/Downloads/Software/omnetpp-5.5.1/bin:$PATH
export PATH=/usr/local/wsnet-2.0/bin:$PATH
export PATH=/home/aghiles/.vim/bundle/vim-live-latex-preview/bin:$PATH
export PATH="/usr/local/bin:$PATH"
export PATH=/usr/local/opt/ruby/bin:$PATH
export PATH=/usr/local/opt/curl/bin:$PATH
export PATH=/usr/local/bin:/usr/local/sbin:$PATH
export PATH=~/.config/nvim/bundle/vim-live-latex-preview/bin:$PATH
export MANPATH=/usr/local/share/man:$MANPATH


XDG_CURRENT_DESKTOP=GNOME

# APP --------------------------------------------------
export EDITOR="nvim"
export VISUAL="pager"
export PAGER="less"
export TERMINAL="tilix"
export BROWSER="qutebrowser"
export READER="evince"
export FILE="ranger"

export BIB="$HOME/Documents/LaTeX/uni.bib"
export REFER="$HOME/Documents/referbib"

export SUDO_ASKPASS="dmenu-pass"
export NOTMUCH_CONFIG="$HOME/.config/notmuch-config"
export GTK2_RC_FILES="$HOME/.config/gtk-2.0/gtkrc-2.0"


# SYSTEM --------------------------------------------------
export DISABLE_AUTO_TITLE=true
export COPY_EXTENDED_ATTRIBUTES_DISABLE=true
export COPYFILE_DISABLE=true
#export LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.25
export HISTSIZE=HISTFILESIZE # Infinite history
#export SHELL=/usr/local/bin/zsh
export LC_ALL=fr_FR.UTF-8
export LANG=fr_FR.UTF-8
export LC_CTYPE=$LANG

# LATEX --------------------------------------------------
export TEXINPUTS=.:~/.config/latex:$TEXINPUTS
#WSNET --------------------------------------------------
export WSNET_MODDIR=/home/aghiles/Aghiles/Program/boards/simulation/wsnet/lib
# SDN ---------------------------------------------------
export ONOS_ROOT="$TOOLSPATH/sdn/onos"
#source $ONOS_ROOT/tools/dev/bash_profile

# node --------------------------------------------------
export N_PREFIX="$HOME/n"; [[ :$PATH: == *":$N_PREFIX/bin:"* ]] || PATH+=":$N_PREFIX/bin"  # Added by n-install (see http://git.io/n-install-repo).

# less/man colors --------------------------------------------------
export LESS=-R
export LESS_TERMCAP_mb="$(printf '%b' '[1;31m')"; a="${a%_}"
export LESS_TERMCAP_md="$(printf '%b' '[1;36m')"; a="${a%_}"
export LESS_TERMCAP_me="$(printf '%b' '[0m')"; a="${a%_}"
export LESS_TERMCAP_so="$(printf '%b' '[01;44;33m')"; a="${a%_}"
export LESS_TERMCAP_se="$(printf '%b' '[0m')"; a="${a%_}"
export LESS_TERMCAP_us="$(printf '%b' '[1;32m')"; a="${a%_}"
export LESS_TERMCAP_ue="$(printf '%b' '[0m')"; a="${a%_}"

## Start graphical server if i3 not already running.
#[ "$(tty)" = "/dev/tty1" ] && ! pgrep -x i3 >/dev/null && exec startx
## Switch escape and caps if tty:
#sudo -n loadkeys ~/.local/bin/ttymaps.kmap 2>/dev/null





export KEYTIMEOUT=10

export LF_ICONS="di=:fi=:ln=:or=:ex=:*.c=:*.cc=:*.clj=:*.coffee=:*.cpp=:*.css=:*.d=:*.dart=:*.erl=:*.exs=:*.fs=:*.go=:*.h=:*.hh=:*.hpp=:*.hs=:*.html=:*.java=:*.jl=:*.js=:*.json=:*.lua=:*.md=:*.php=:*.pl=:*.pro=:*.py=:*.rb=:*.rs=:*.scala=:*.ts=:*.vim=:*.cmd=:*.ps1=:*.sh=:*.bash=:*.zsh=:*.fish=:*.tar=:*.tgz=:*.arc=:*.arj=:*.taz=:*.lha=:*.lz4=:*.lzh=:*.lzma=:*.tlz=:*.txz=:*.tzo=:*.t7z=:*.zip=:*.z=:*.dz=:*.gz=:*.lrz=:*.lz=:*.lzo=:*.xz=:*.zst=:*.tzst=:*.bz2=:*.bz=:*.tbz=:*.tbz2=:*.tz=:*.deb=:*.rpm=:*.jar=:*.war=:*.ear=:*.sar=:*.rar=:*.alz=:*.ace=:*.zoo=:*.cpio=:*.7z=:*.rz=:*.cab=:*.wim=:*.swm=:*.dwm=:*.esd=:*.jpg=:*.jpeg=:*.mjpg=:*.mjpeg=:*.gif=:*.bmp=:*.pbm=:*.pgm=:*.ppm=:*.tga=:*.xbm=:*.xpm=:*.tif=:*.tiff=:*.png=:*.svg=:*.svgz=:*.mng=:*.pcx=:*.mov=:*.mpg=:*.mpeg=:*.m2v=:*.mkv=:*.webm=:*.ogm=:*.mp4=:*.m4v=:*.mp4v=:*.vob=:*.qt=:*.nuv=:*.wmv=:*.asf=:*.rm=:*.rmvb=:*.flc=:*.avi=:*.fli=:*.flv=:*.gl=:*.dl=:*.xcf=:*.xwd=:*.yuv=:*.cgm=:*.emf=:*.ogv=:*.ogx=:*.aac=:*.au=:*.flac=:*.m4a=:*.mid=:*.midi=:*.mka=:*.mp3=:*.mpc=:*.ogg=:*.ra=:*.wav=:*.oga=:*.opus=:*.spx=:*.xspf=:*.pdf="





# Adds `~/.local/bin` to $PATH
#export PATH="$PATH:$(du "$HOME/.local/bin/" | cut -f2 | tr '\n' ':' | sed 's/:*$//')"

# Get default LARBS WM from ~/.local/share/larbs/wm
export LARBSWM="$(cat ~/.local/share/larbs/wm 2>/dev/null)" &&
	[ "$LARBSWM" = "dwm" ] || export LARBSWM="i3"

# Default programs:
export EDITOR="nvim"
export TERMINAL="st"
export READER="zathura"
export FILE="ranger"
export STATUSBAR="${LARBSWM}blocks"

# ~/ Clean-up:
export NOTMUCH_CONFIG="$HOME/.config/notmuch-config"
export GTK2_RC_FILES="$HOME/.config/gtk-2.0/gtkrc-2.0"
export LESSHISTFILE="-"
export INPUTRC="$HOME/.config/inputrc"
export ZDOTDIR="$HOME/Aghiles/tool/shell/zsh"
export PASSWORD_STORE_DIR="$HOME/.config/password-store"

# Other program settings:
export DICS="/usr/share/stardict/dic/"
export FZF_DEFAULT_OPTS="--layout=reverse --height 40%"
export LESS=-R
export LESS_TERMCAP_mb="$(printf '%b' '[1;31m')"
export LESS_TERMCAP_md="$(printf '%b' '[1;36m')"
export LESS_TERMCAP_me="$(printf '%b' '[0m')"
export LESS_TERMCAP_so="$(printf '%b' '[01;44;33m')"
export LESS_TERMCAP_se="$(printf '%b' '[0m')"
export LESS_TERMCAP_us="$(printf '%b' '[1;32m')"
export LESS_TERMCAP_ue="$(printf '%b' '[0m')"





# Stop (eg.) `git push github` from triggering:
# zsh: correct 'github' to '.github' [yes, no, edit, abort]?
export CORRECT_IGNORE_FILE='.*'

export PAGER=less

if which nvim &> /dev/null; then
  export EDITOR=$(which nvim)
elif [ -x "$HOME/bin/vim" ]; then
  # PATH isn't set yet (.zsh/path depends on this file), so we do this check
  # instead of a simple `export EDITOR=$(which vim)`:
  export EDITOR=$HOME/bin/vim
else
  export EDITOR=vim
fi

#if [ -d /usr/local/opt/mysql@5.7 ]; then
  # Uncomment if you need to build anything that links against this version:
  # export LDFLAGS="-L/usr/local/opt/mysql@5.7/lib"
  # export CPPFLAGS="-I/usr/local/opt/mysql@5.7/include"
  # export PKG_CONFIG_PATH="/usr/local/opt/mysql@5.7/lib/pkgconfig"
#fi

case "$(uname)" in
  Darwin*)
    if [ -x /usr/libexec/java_home ]; then
      if /usr/libexec/java_home &> /dev/null ; then
        export ANT_OPTS="-Xmx4096m -Xms4096m -XX:MaxPermSize=1024m -XX:-UseGCOverheadLimit -Dorg.gradle.workers.max=4"
        export GRADLE_OPTS="-Dorg.gradle.workers.max=4"

        if /usr/libexec/java_home -v1.8.0 &> /dev/null; then
          export JAVA_HOME=$(/usr/libexec/java_home -v1.8.0)
        else
          export JAVA_HOME=$(/usr/libexec/java_home)
        fi

        export JAVA_OPTS="-Xmx4096m -Xms1024m -XX:MaxPermSize=512m"
      fi
    fi
    ;;
  Linux*)
    export JAVA_HOME=/usr/lib/jvm/jre-1.6.0-openjdk.x86_64
    ;;
esac

# usually this means running on a machine with a statically-linked, hand-built
# tmux (and ncurses)
if [ -d "$HOME/share/terminfo" ]; then
  export TERMINFO=$HOME/share/terminfo
fi

# filename (if known), line number if known, falling back to percent if known,
# falling back to byte offset, falling back to dash
export LESSPROMPT='?f%f .?ltLine %lt:?pt%pt\%:?btByte %bt:-...'

# i = case-insensitive searches, unless uppercase characters in search string
# F = exit immediately if output fits on one screen
# M = verbose prompt
# R = ANSI color support
# S = chop long lines (rather than wrap them onto next line)
# X = suppress alternate screen
export LESS=iFMRSX


USER=`whoami`
ZSHDIR=$HOME/.oh-my-zsh
TMUXINATORDIR=$HOME/.tmuxinator


# Color man pages.
export LESS_TERMCAP_mb=$'\E[01;31m'
export LESS_TERMCAP_md=$'\E[01;38;5;208m'
export LESS_TERMCAP_me=$'\E[0m'
export LESS_TERMCAP_se=$'\E[0m'
export LESS_TERMCAP_ue=$'\E[0m'
export LESS_TERMCAP_us=$'\E[04;38;5;111m'

# for the benefit of CPAN and potentially others
export FTP_PASSIVE=1

# colour ls listings
export CLICOLOR=true

# for Amazon Web Services EC2 API
export EC2_HOME=~/bin/ec2-api-tools
export EC2_PRIVATE_KEY=~/.ssh/ec2wincent_cert_pk.pem
export EC2_CERT=~/.ssh/ec2wincent_cert.pem

export GPG_TTY=$(tty)

export GOPATH=~/code/go

test -e $HOME/.zsh/exports.private && source $HOME/.zsh/exports.private

test -d $HOME/n && export N_PREFIX="$HOME/n"

SYSTEM_PATH=$PATH
unset PATH

# keep these on separate lines to make changing their order easier
#PATH=$HOME/bin
PATH=$PATH:$HOME/.zsh/bin
PATH=$PATH:$HOME/.vim/pack/bundle/opt/vcs-jump/bin

test -n "$N_PREFIX" && PATH=$PATH:$N_PREFIX/bin

PATH=$PATH:$HOME/.cargo/bin

if [ -d /usr/local/opt/mysql@5.7 ]; then
  PATH=$PATH:/usr/local/opt/mysql@5.7/bin
fi

PATH=$PATH:/usr/local/bin
PATH=$PATH:/usr/local/sbin
PATH=$PATH:/usr/local/opt/srm/bin
PATH=$PATH:$SYSTEM_PATH
PATH=$PATH:$EC2_HOME/bin
PATH=$PATH:$HOME/.local/bin
PATH=$PATH:$HOME/.cabal/bin
export PATH




# Default programs:
export EDITOR="nvim"
export TERMINAL="st"
export READER="zathura"
export FILE="ranger"
export STATUSBAR="${LARBSWM}blocks"

# ~/ Clean-up:
export NOTMUCH_CONFIG="$HOME/.config/notmuch-config"
export GTK2_RC_FILES="$HOME/.config/gtk-2.0/gtkrc-2.0"
export LESSHISTFILE="-"
export INPUTRC="$HOME/.config/inputrc"
export ZDOTDIR="$HOME/Aghiles/tool/shell/zsh"

# Other program settings:
export DICS="/usr/share/stardict/dic/"
export FZF_DEFAULT_OPTS="--layout=reverse --height 40%"
export LESS=-R
export LESS_TERMCAP_mb="$(printf '%b' '[1;31m')"
export LESS_TERMCAP_md="$(printf '%b' '[1;36m')"
export LESS_TERMCAP_me="$(printf '%b' '[0m')"
export LESS_TERMCAP_so="$(printf '%b' '[01;44;33m')"
export LESS_TERMCAP_se="$(printf '%b' '[0m')"
export LESS_TERMCAP_us="$(printf '%b' '[1;32m')"
export LESS_TERMCAP_ue="$(printf '%b' '[0m')"



# set up prompt
export SPACESHIP_TIME_SHOW='true'
export SPACESHIP_DIR_PREFIX=''
export SPACESHIP_CHAR_SYMBOL='➤'
export SPACESHIP_CHAR_SUFFIX=' '
export SPACESHIP_EXEC_TIME_PREFIX=''
export SPACESHIP_GIT_PREFIX=''
export SPACESHIP_VI_MODE_INSERT='[I]'
export SPACESHIP_VI_MODE_NORMAL='[N]'
export SPACESHIP_VI_MODE_SUFFIX=' '
export SPACESHIP_VI_MODE_COLOR=$SPACESHIP_CHAR_COLOR_SUCCESS

export HISTIGNORE="&:ls:[bf]g:exit:reset:clear:cd:cd ..:cd.."
export HISTSIZE=25000
export HISTFILE=$HOME/.zsh_history
export SAVEHIST=10000


export TERMINAL="termite"
export FILE="ranger"
export EDITOR="nvim"
export READER="zathura"
export USE_EDITOR=$EDITOR
export VISUAL=$EDITOR
#export BROWSER="linkhandler"
export TRUEBROWSER="qutebrowser"
export ALTBROWSER="firefox"

export I3BLOCKS_LAYOUT="pkill -SIGRTMIN+10 i3blocks"
export I3BLOCKS_VOLUME="pkill -SIGRTMIN+11 i3blocks"
export I3BLOCKS_POWERSAVER="pkill -SIGRTMIN+12 i3blocks"
export I3BLOCKS_MAIL="pkill -SIGRTMIN+13 i3blocks"

#PATH="$PATH:$HOME/.config/Scripts/:$HOME/.gem/ruby/2.5.0/bin:$HOME/go/bin:$HOME/.local/bin"

export DEFAULT_USER="micah"
export LC_ALL=en_US.UTF-8
export SSH_AUTH_SOCK="$XDG_RUNTIME_DIR/ssh-agent.socket"
export XDG_CONFIG_HOME="$HOME/.config"

# set up go environment variables
export GOPATH="/home/micah/go"
export GOBIN="$GOPATH/bin"


export arien=


#https://bitbucket.org/mercurialeclipse/update-site/raw/default/






# don't export CDPATH (can cause problems with shell scripts etc)
CDPATH=.:~:~/code

